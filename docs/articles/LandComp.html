<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LandComp • LandComp</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="LandComp">
<meta property="og:description" content="LandComp">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">LandComp</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/LandComp.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ladylavender/LandComp/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>LandComp</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ladylavender/LandComp/blob/HEAD/vignettes/LandComp.Rmd" class="external-link"><code>vignettes/LandComp.Rmd</code></a></small>
      <div class="hidden name"><code>LandComp.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ladylavender/LandComp" class="external-link">LandComp</a></span><span class="op">)</span></span></code></pre></div>
<p>LandComp is a package for quantifying landscape diversity and
structure at multiple scales. For these purposes Juhász-Nagy’s
functions, i.e. compositional diversity (CD) and associatum (AS), are
calculated.</p>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<p>Suggest we have data on some vegetation types along a landscape.
Note, there are three requirements:</p>
<ul>
<li>the landscape data should be numeric binary, i.e. it should contain
0 or 1 values</li>
<li>the geometry of the landscape data should be a regular square or
hexagonal grid</li>
<li>the geometry of the landscape data should have projected coordinates
(i.e. WGS84 is not eligible)</li>
</ul>
<div class="section level3">
<h3 id="using-regular-square-grid">Using regular square grid<a class="anchor" aria-label="anchor" href="#using-regular-square-grid"></a>
</h3>
<p>Have a look at the square grid data.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://r-spatial.github.io/sf/" class="external-link">"sf"</a></span><span class="op">)</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ladylavender/LandComp" class="external-link">LandComp</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"square_data"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">square_data</span><span class="op">)</span></span>
<span><span class="co">#&gt; Classes 'sf' and 'data.frame':   300 obs. of  6 variables:</span></span>
<span><span class="co">#&gt;  $ VT1     : num  0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">#&gt;  $ VT2     : num  0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">#&gt;  $ VT3     : num  0 0 0 0 1 1 0 0 0 0 ...</span></span>
<span><span class="co">#&gt;  $ VT4     : num  0 0 0 0 0 0 0 1 1 1 ...</span></span>
<span><span class="co">#&gt;  $ VT5     : num  0 0 0 0 0 0 0 0 0 1 ...</span></span>
<span><span class="co">#&gt;  $ geometry:sfc_POLYGON of length 300; first list element: List of 1</span></span>
<span><span class="co">#&gt;   ..$ : num [1:5, 1:2] 400000 400000 405000 405000 400000 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "class")= chr [1:3] "XY" "POLYGON" "sfg"</span></span>
<span><span class="co">#&gt;  - attr(*, "sf_column")= chr "geometry"</span></span>
<span><span class="co">#&gt;  - attr(*, "agr")= Factor w/ 3 levels "constant","aggregate",..: NA NA NA NA NA</span></span>
<span><span class="co">#&gt;   ..- attr(*, "names")= chr [1:5] "VT1" "VT2" "VT3" "VT4" ...</span></span></code></pre></div>
<p><img src="../reference/figures/README-square_data-1.png" width="100%"></p>
<p><strong>Fig. 1.</strong> Visualization of the square grid data.</p>
<p>CD and AS of the landscape at the scale of the base square grid
(i.e. using the input grid cells as spatial units) can be calculated
as</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/LandComp.html">LandComp</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">square_data</span>, aggregation_steps <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="co">#&gt;   AggregationStep SpatialUnit_Size SpatialUnit_Area SpatialUnit_Count</span></span>
<span><span class="co">#&gt; 1               0                1          2.5e+07               300</span></span>
<span><span class="co">#&gt;   UniqueCombination_Count   CD_bit    AS_bit</span></span>
<span><span class="co">#&gt; 1                      13 2.755349 0.1709469</span></span></code></pre></div>
<p>However, Juhász-Nagy’s functions, i.e. compositional diversity (CD)
and associatum (AS) should be calculated at multiple scales. For this
purpose spatial units can be selected using a buffer of grid cells
around the central grid cell, where 0 means the original cell without
enlargement.</p>
<p><img src="../reference/figures/spatial_units_square.png" width="50%"></p>
<p><strong>Fig. 2.</strong> Main properties of the spatial units used
for the calculation of Juhász-Nagy’s functions. In the integer
aggregation steps, radially enlarged spatial units consisting of 9, 25,
49 etc. squares are produced. Enlarged spatial units of fraction
aggregation steps are created using the spatial unit of the next integer
aggregation step, but excluding the grid cells that touch the corners of
the next integer unit. A<sub>s</sub> is the area of the square grid cell
of the input data.</p>
<p>The analysis can be done more precise by giving also fraction numbers
as input. Thus, the following values of CD and AS can be calculated as
e.g.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/LandComp.html">LandComp</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">square_data</span>, aggregation_steps <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;   AggregationStep SpatialUnit_Size SpatialUnit_Area SpatialUnit_Count</span></span>
<span><span class="co">#&gt; 1             0.5                5         1.25e+08               234</span></span>
<span><span class="co">#&gt; 2             1.0                9         2.25e+08               234</span></span>
<span><span class="co">#&gt;   UniqueCombination_Count   CD_bit    AS_bit</span></span>
<span><span class="co">#&gt; 1                      18 3.572889 0.7480368</span></span>
<span><span class="co">#&gt; 2                      18 3.176364 1.0874836</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="using-regular-hexagonal-grid">Using regular hexagonal grid<a class="anchor" aria-label="anchor" href="#using-regular-hexagonal-grid"></a>
</h3>
<p>The example dataset contains pointy-topped hexagons. Note, the
methods are also fine for regular hexagonal grids containing flat-topped
hexagons. Have a look at the hexagonal grid data.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"hexagonal_data"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">hexagonal_data</span><span class="op">)</span></span>
<span><span class="co">#&gt; Classes 'sf' and 'data.frame':   300 obs. of  6 variables:</span></span>
<span><span class="co">#&gt;  $ VT1     : num  0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">#&gt;  $ VT2     : num  0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">#&gt;  $ VT3     : num  0 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co">#&gt;  $ VT4     : num  1 1 0 1 1 1 0 1 1 1 ...</span></span>
<span><span class="co">#&gt;  $ VT5     : num  0 0 1 1 0 0 1 0 0 1 ...</span></span>
<span><span class="co">#&gt;  $ geometry:sfc_POLYGON of length 300; first list element: List of 1</span></span>
<span><span class="co">#&gt;   ..$ : num [1:7, 1:2] 649500 649000 649000 649500 650000 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "class")= chr [1:3] "XY" "POLYGON" "sfg"</span></span>
<span><span class="co">#&gt;  - attr(*, "sf_column")= chr "geometry"</span></span>
<span><span class="co">#&gt;  - attr(*, "agr")= Factor w/ 3 levels "constant","aggregate",..: NA NA NA NA NA</span></span>
<span><span class="co">#&gt;   ..- attr(*, "names")= chr [1:5] "VT1" "VT2" "VT3" "VT4" ...</span></span></code></pre></div>
<p><img src="../reference/figures/README-hexagonal_data-1.png" width="100%"></p>
<p><strong>Fig. 3.</strong> Visualization of the hexagonal grid
data.</p>
<p>CD and AS of the landscape at the scale of the base hexagonal grid
(i.e. using the input grid cells as spatial units) can be calculated
as</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/LandComp.html">LandComp</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">hexagonal_data</span>, aggregation_steps <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="co">#&gt;   AggregationStep SpatialUnit_Size SpatialUnit_Area SpatialUnit_Count</span></span>
<span><span class="co">#&gt; 1               0                1         866025.4               300</span></span>
<span><span class="co">#&gt;   UniqueCombination_Count   CD_bit    AS_bit</span></span>
<span><span class="co">#&gt; 1                      12 1.972863 0.1256525</span></span></code></pre></div>
<p>However, Juhász-Nagy’s functions, i.e. compositional diversity (CD)
and associatum (AS) should be calculated at multiple scales. For this
purpose spatial units can be selected using a buffer of grid cells
around the central grid cell, where 0 means the original cell without
enlargement.</p>
<p><img src="../reference/figures/spatial_units_hexagon.png" width="50%"></p>
<p><strong>Fig. 4.</strong> Main properties of the spatial units used
for the calculation of Juhász-Nagy’s functions. In the integer
aggregation steps, radially enlarged spatial units consisting of 7, 19,
37 etc. hexagons are produced. Enlarged spatial units of fraction
aggregation steps are created using the spatial unit of the next integer
aggregation step, but excluding the grid cells that touch the vertices
of the next integer unit. A<sub>h</sub> is the area of the hexagonal
grid cell of the input data.</p>
<p>Analysis can be done more precise by giving also fraction numbers as
input. Thus, the following values of CD and AS can be calculated as
e.g.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/LandComp.html">LandComp</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">hexagonal_data</span>, aggregation_steps <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1.5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;   AggregationStep SpatialUnit_Size SpatialUnit_Area SpatialUnit_Count</span></span>
<span><span class="co">#&gt; 1             1.0                7          6062178               234</span></span>
<span><span class="co">#&gt; 2             1.5               13         11258330               187</span></span>
<span><span class="co">#&gt;   UniqueCombination_Count   CD_bit    AS_bit</span></span>
<span><span class="co">#&gt; 1                      16 3.422409 0.5394512</span></span>
<span><span class="co">#&gt; 2                      21 3.487383 0.5487755</span></span></code></pre></div>
<p><strong>Note,</strong> in the case of hexagonal grid, steps falling
in the interval ]0,1[ cannot be evaluated.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Krisztina Dóra Konrád, Ákos Bede-Fazekas, Sándor Bartha, Imelda Somodi.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
